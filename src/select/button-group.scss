.input-group {
    position: relative;
    display: flex;

    .form-control {
        // Ensure that the input is always above the *appended* addon button for
        // proper border colors.
        position: relative;
        z-index: 2;
        flex: 1;
        margin-bottom: 0;
    }
}

.input-group-addon,
.input-group-btn,
.input-group .form-control {
    &:not(:first-child):not(:last-child) {
        border-radius: 0;
    }
}

.input-group-addon,
.input-group-btn {
    white-space: nowrap;
    vertical-align: middle; // Match the inputs
}

//
// Text input groups
//

.input-group-addon {
    padding: 5px 5px;
    text-align: center;
    background-color: #eceeef;
    border: 1px solid #cfdadd;
    color: #55595c;
    border-radius: 4px;
    display: flex;
    justify-content: center;
    align-items: center;

    // Nuke default margins from checkboxes and radios to vertically center within.
    input[type="radio"],
    input[type="checkbox"] {
        margin-top: 0;
    }
}

//
// Reset rounded corners
//

.input-group .form-control:first-child,
.input-group-addon:first-child,
.input-group-btn:first-child > .btn,
.input-group-btn:first-child > .btn-group > .btn,
.input-group-btn:first-child > .dropdown-toggle,
.input-group-btn:last-child > .btn:not(:last-child):not(.dropdown-toggle),
.input-group-btn:last-child > .btn-group:not(:last-child) > .btn {
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
}

.input-group-addon:first-child {
    border-right: 0;
}

.input-group .form-control:last-child,
.input-group-addon:last-child,
.input-group-btn:last-child > .btn,
.input-group-btn:last-child > .btn-group > .btn,
.input-group-btn:last-child > .dropdown-toggle,
.input-group-btn:first-child > .btn:not(:first-child),
.input-group-btn:first-child > .btn-group:not(:first-child) > .btn {
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
}

.input-group-addon:last-child {
    border-left: 0;
}

//
// Button input groups
//

.input-group-btn {
    position: relative;
    // Jankily prevent input button groups from wrapping with `white-space` and
    // `font-size` in combination with `inline-block` on buttons.
    font-size: 0;
    white-space: nowrap;
}
